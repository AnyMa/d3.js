<!DOCTYPE html>
<meta charset="utf-8">
<title>D3 Tutorial</title>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>

	var width = 800;
	var height = 800;
	
	var canvas = d3.select("body")
		.append("svg")
		.attr("width", width)
		.attr("height", height)
		.append("g")
			.attr("transform", "translate(50, 50)");

	var pack = d3.layout.pack()
		.size([width - 50, height - 50])
		.padding(10);

	d3.json("16- mydata.json", function(data) {

		var nodes = pack.nodes(data);

		console.log(nodes);
		
		var node = canvas.selectAll(".node")
			.data(nodes)
			.enter()
				.append("g")
				.attr("class", "node")
				.attr("transform", function(d) { return "translate(" + d.x + ", " + d.y + ")" });

		node.append("circle")
			.attr("r", function(d) { return d.r })
			.attr("fill", function(d) {return d.children ? "#fff" : (d.value > 100 ? "red" : (d.value < 40 ? "white" : "steelblue"))})
			.attr("stroke", function(d) {return d.children ? "#fff" : "black"})
			.attr("stroke-width", function(d) { return d.value > 130 ? 6 : d.value < 70 ? 6 : 0 });

		node.append("text")
			.text(function(d) { return d.children ? "" : d.name });
	});
</script>
</body>